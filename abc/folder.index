# üéµ –ù–æ—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

showInNavigation: true

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ü–µ—Ä–∫–æ–≤–Ω—ã—Ö –ø–µ—Å–Ω–æ–ø–µ–Ω–∏–π. –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –ø–∞—Ä—Ç–∏—Ç—É—Ä—ã –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞—Å–ø–µ–≤–∞—Ö –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ö–æ—Ä–æ–≤–æ–≥–æ –ø–µ–Ω–∏—è.

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

1. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—É—é –ø–∞—Ä—Ç–∏—Ç—É—Ä—É
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
4. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –ø–µ–Ω–∏–µ —Å –∞–∫–∫–æ–º–ø–∞–Ω–µ–º–µ–Ω—Ç–æ–º

## üìÇ –ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –ø–∞—Ä—Ç–∏—Ç—É—Ä
<div id="full-partiture-tree">
    <div style="color: #7f8c8d; font-style: italic; padding: 20px; text-align: center;">
        –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞...
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    loadFullTree();
});

async function loadFullTree() {
    try {
        // --- –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—É—Ç—å –∫ full-tree.json ---
        // fetch('./full-tree.json'); // –ë—ã–ª–æ - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (partitures/index.html)
        // fetch('../full-tree.json'); // –ü–æ–ø—Ä–æ–±—É–µ–º –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ, –µ—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª —Ñ–∞–π–ª –≤ –ø–æ–¥–ø–∞–ø–∫–µ
        // fetch('/partitures/full-tree.json'); // –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è —Å–∞–π—Ç–∞
        const response = await fetch('/partitures/full-tree.json');
        if (!response.ok) throw new Error('Full tree file not found');

        const treeData = await response.json();
        renderFullTree(treeData);

    } catch (error) {
        console.error('Error loading full tree:', error);
        document.getElementById('full-partiture-tree').innerHTML =
            '<div style="color: #e74c3c; font-style: italic; padding: 10px 20px;">‚ùå –ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω<br><small>' + error.message + '</small></div>';
    }
}

function renderFullTree(treeData) {
    const container = document.getElementById('full-partiture-tree');

    if (!treeData || treeData.length === 0) {
        container.innerHTML = '<div style="color: #7f8c8d; font-style: italic; padding: 10px 20px;">–ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞</div>';
        return;
    }

    let html = '<ul style="list-style: none; padding-left: 0; margin: 0;">';

    function renderItems(items, level = 0) {
        items.forEach(item => {
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—è –∏–∑ full-tree.json (text, id)
            const id = item.id; // –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
            const text = item.text; // –≠—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫
            const children = item.children;

            let linkPath = id;
            if (!linkPath.endsWith('.html')) {
                linkPath = '/partitures/' + id + '/';
            } else {
                linkPath = '/partitures/' + id;
            }

            const indent = level * 20;
            const isFolder = !id.endsWith('.html');
            const icon = isFolder ? 'üìÅ' : 'üìÑ';
            const color = isFolder ? '#e67e22' : '#2c3e50';
            const fontWeight = isFolder ? 'bold' : 'normal';

            html += `
                <li style="margin-bottom: 4px;">
                    <a href="${linkPath}" style="
                        color: ${color};
                        text-decoration: none;
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        padding: 6px 12px;
                        background: white;
                        border-radius: 5px;
                        border: 1px solid #e9ecef;
                        font-weight: ${fontWeight};
                        transition: all 0.2s;
                        margin-left: ${indent}px;
                    " onmouseover="this.style.backgroundColor='${isFolder ? '#fff3e0' : '#f8f9fa'}'; this.style.borderColor='${isFolder ? '#e67e22' : '#4051b5'}'"
                       onmouseout="this.style.backgroundColor='white'; this.style.borderColor='#e9ecef'">
                        ${icon} ${text} <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º text -->
                    </a>
            `;

            if (children && children.length > 0) {
                html += '<ul style="list-style: none; padding-left: 0; margin: 0;">';
                renderItems(children, level + 1);
                html += '</ul>';
            }

            html += '</li>';
        });
    }

    renderItems(treeData);
    html += '</ul>';
    container.innerHTML = html;
}
</script>